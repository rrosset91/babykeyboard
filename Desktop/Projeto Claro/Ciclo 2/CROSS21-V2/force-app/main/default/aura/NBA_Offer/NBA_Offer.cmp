<aura:component controller="NBA_OfferComparator_CC" implements="force:appHostable,flexipage:availableForAllPageTypes" access="global">
	<!-- ATRIBUTOS -->
	<aura:attribute type="String" name="nomeOferta" />
	<aura:attribute type="Object" name="oferta" />
	<aura:attribute type="Object" name="tv" />
	<aura:attribute type="Object" name="produtoAtual" />
	<aura:attribute type="Object" name="produtoAntigo" />
	<aura:attribute type="Boolean" name="expanded" default="false" />
	<aura:attribute type="String[]" name="offerType" />
	<aura:attribute type="Boolean" name="fidelity" />
	<aura:attribute type="Decimal" name="footerValueDepAtual" />
	<aura:attribute type="Boolean" name="inadimplente" default="false" />
	<aura:attribute type="Boolean" name="isRetencao" />
	<!-- <aura:handler value="{! this }" name="init" action="{! c.doInit }" /> -->
	<div class="slds-container_center">
		<!-- HEADER -->
		<div class="slds-box slds-align_absolute-center box-header">
			<article class="slds-tile">
				<div class="slds-grid slds-gutters slds-align_absolute-center">
					<div class="slds-col slds-size_1-of-7">
						<div class="slds-grid slds-gutters slds-align_absolute-center" style="height: 2.2rem">
							<div class="slds-col slds-size_1-of-1">
								<aura:if isTrue="{! !empty(v.oferta.incentive) }">
									<aura:if isTrue="{! v.isRetencao }">
										<img src="{!$Resource.cec_identidade + '/images-upload/cec-produto/Pontuacao_' + v.oferta.incentive + '.png' }" class="imgSize" title="{! v.oferta.incentive }" />
									</aura:if>
								</aura:if>
							</div>
						</div>
					</div>
					<div class="slds-col slds-size_3-of-7" style="text-align:center; margin-left:2.0rem"><strong>{! v.nomeOferta }</strong></div>
					<div class="slds-grid slds-gutters slds-align_absolute-center" Style=" height: 2.2rem">
						<aura:if isTrue="{!v.oferta.blindagem}">
							<div class="slds-col slds-size_1-of-4">
								<img src="{!$Resource.NBA_Blindagem}" class="imgSize" title="BLINDAGEM" />
							</div>
						</aura:if>
						<aura:if isTrue="{!v.oferta.combate}">
							<div class="slds-col slds-size_1-of-4">
								<img src="{!$Resource.NBA_Combrate}" class="imgSize" title="COMBATE" />
							</div>
						</aura:if>
						<aura:if isTrue="{!v.oferta.exclusivo}">
							<div class="slds-col slds-size_1-of-4">
								<img src="{!$Resource.NBA_Exclusivo}" class="imgSize" title="EXCLUSIVO" />
							</div>
						</aura:if>
						<aura:if isTrue="{! or(or(or(v.oferta.broadband.planBroadband.fidelity.hasFidelity,v.oferta.mobile.planMobile.fidelity.hasFidelity),v.oferta.phone.planPhone.fidelity.hasFidelity),v.tv.planTv.fidelity.hasFidelity)}">
							<div Class="slds-col slds-size_1-of-4">
								<img src="{!$Resource.cec_identidade + '/images-upload/cec-produto/NBA_Fidelidade.png'}" class="imgSize" title="FIDELIDADE" />
							</div>
						</aura:if>
					</div>
					<!--<div class="slds-col slds-size_1-of-7">
                        <aura:if isTrue="{! v.oferta.shielding }"><img title="Blindagem" class="custom-icon" src="{!$Resource.icone_B}"/></aura:if>
                        <aura:if isTrue="{! v.oferta.competition }"><img title="Combate à concorrência" class="custom-icon" src="{!$Resource.icone_C}"/></aura:if>
                        <aura:if isTrue="{! v.oferta.exclusivity }"><img title="Exclusividade de Produto" class="custom-icon" src="{!$Resource.icone_E}"/></aura:if>
                    </div>-->
				</div>
			</article>
		</div>
		<!-- CONTENT -->
		<div class="slds-box slds-align_absolute-center box-content">
			<article class="slds-tile">
				<div class="slds-grid slds-gutters slds-wrap slds-align_absolute-center">
					<div class="slds-col slds-size_2-of-3">
						<strong>{! $Label.c.OFERTA_PRODUTO }</strong>
					</div>
					<div class="slds-col slds-size_1-of-3">
						<strong>{! $Label.c.OFERTA_PRECO }</strong>
					</div>
				</div>
				<!-- TV -->
				<div class="slds-grid slds-gutters slds-wrap six-lines slds-align_absolute-center">
					<!-- ASSINATURA -->
					<aura:iteration items="{! v.tv.planTv.lstPromotions }" var="promo">
						<aura:if isTrue="{! empty(promo.label) || promo.label == '-1' }">
							<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
								{! v.tv.planTv.label }
							</div>
							<aura:set attribute="else">
								<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
									{! promo.label }
								</div>
							</aura:set>
						</aura:if>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! promo.value }" style="currency" currencyCode="BRL" title="{! !empty(promo.valid) ? 'VALOR APÓS ' + promo.valid + ' MESES - R$' + promo.roundedFullValue : '' }" />
						</div>
					</aura:iteration>
					<aura:if isTrue="{! empty(v.tv.planTv.lstPromotions) }">
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! v.tv.planTv.label }">
							{! v.tv.planTv.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.tv.planTv.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
					<!-- ADICIONAIS -->
					<aura:iteration items="{! v.tv.additionalTv.lstPromotions }" var="promo">
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
							{! promo.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! promo.value }" style="currency" currencyCode="BRL" title="{! !empty(promo.valid) ? 'VALOR APÓS ' + promo.valid + ' MESES - R$' + add(promo.value,promo.discount) : '' }" />
						</div>
					</aura:iteration>
					<!-- DEMAIS A LA CARTES -->
					<aura:if isTrue="{! v.tv.additionalTv.value > 0 }">
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product ">
							{! v.tv.additionalTv.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.tv.additionalTv.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
					<!-- PONTOS OPCIONAIS -->
					<aura:if isTrue="{! v.tv.optionalPointsPromoTv.quantity > 0 }">
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! v.tv.optionalPointsPromoTv.label }">
							{! v.tv.optionalPointsPromoTv.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.tv.optionalPointsPromoTv.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
					<aura:if isTrue="{! v.tv.optionalPointsTv.value > 0 }">
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! v.tv.optionalPointsTv.label }">
							{! v.tv.optionalPointsTv.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.tv.optionalPointsTv.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
				</div>
				<!-- Virtua -->
				<hr id="linha-tv" class="striped-border" />
				<div class="slds-grid slds-gutters slds-wrap three-lines slds-align_absolute-center">
					<!-- ASSINATURA -->
					<aura:iteration items="{! v.oferta.broadband.planBroadband.lstPromotions }" var="promo">
						<aura:if isTrue="{! empty(promo.label) || promo.label == '-1' }">
							<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
								{! v.oferta.broadband.planBroadband.label }
							</div>
							<aura:set attribute="else">
								<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
									{! promo.label }
								</div>
							</aura:set>
						</aura:if>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! promo.value }" style="currency" currencyCode="BRL" title="{! !empty(promo.valid) ? 'VALOR APÓS ' + promo.valid + ' MESES - R$' + promo.roundedFullValue : '' }" />
						</div>
					</aura:iteration>
					<aura:if isTrue="{! empty(v.oferta.broadband.planBroadband.lstPromotions) }">
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product" title="{! v.oferta.broadband.planBroadband.label }">
							{! v.oferta.broadband.planBroadband.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.oferta.broadband.planBroadband.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
					<!-- ADICIONAIS -->
					<aura:iteration items="{! v.oferta.broadband.addOptions.lstAdditionals }" var="add">
						<aura:if isTrue="{! add.checked }">
							<!--	<aura:if isTrue="{! add.promoSelected == '' }" >
								<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! add.label + ' - Desconto de R$ ' + add.discount }">
									{! add.label }
								</div>
								<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
									<lightning:formattedNumber value="{! add.value }" style="currency" currencyCode="BRL"/>
								</div>
							</aura:if> -->
							<aura:if isTrue="{! add.promoSelected != '' }">
								<aura:iteration items="{! add.lstPromotions }" var="promotions" indexVar="index">
									<aura:if isTrue="{! add.promoSelected == index + '' }">
										<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
											{! add.label }&nbsp;{! promotions.label }
										</div>
										<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
											<lightning:formattedNumber value="{! add.value - (promotions.discount > add.value ? add.value : promotions.discount) }" style="currency" currencyCode="BRL" />
										</div>
									</aura:if>
								</aura:iteration>
							</aura:if>
						</aura:if>
					</aura:iteration>
					<aura:if isTrue="{! v.oferta.broadband.additionalBroadband.value > 0 }">
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product" title="{! v.oferta.broadband.additionalBroadband.label }">
							{! v.oferta.broadband.additionalBroadband.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.oferta.broadband.additionalBroadband.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
				</div>
				<!-- Net Fone -->
				<hr class="striped-border" />
				<div class="slds-grid slds-gutters slds-wrap three-lines slds-align_absolute-center">
					<!-- ASSINATURA -->
					<aura:iteration items="{! v.oferta.phone.planPhone.lstPromotions }" var="promo">
						<aura:if isTrue="{! empty(promo.label) || promo.label == '-1' }">
							<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
								{! v.oferta.phone.planPhone.label }
							</div>
							<aura:set attribute="else">
								<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
									{! promo.label }
								</div>
							</aura:set>
						</aura:if>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! promo.value }" style="currency" currencyCode="BRL" title="{! !empty(promo.valid) ? 'VALOR APÓS ' + promo.valid + ' MESES - R$' + promo.roundedFullValue : '' }" />
						</div>
					</aura:iteration>
					<aura:if isTrue="{! empty(v.oferta.phone.planPhone.lstPromotions) }">
						<div class="slds-truncate slds-col slds-size_2-of-3  slds-align_absolute-center padding-product" title="{! v.oferta.phone.planPhone.label }">
							{! v.oferta.phone.planPhone.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.oferta.phone.planPhone.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
					<!-- ADICIONAIS -->
					<aura:iteration items="{! v.oferta.phone.addOptions.lstPromotions }" var="promo">
						<aura:if isTrue="{! empty(promo.label) || promo.label == '-1' }">
							<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
								{! v.oferta.phone.additionalPhone.label }
							</div>
							<aura:set attribute="else">
								<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
									{! promo.label }
								</div>
							</aura:set>
						</aura:if>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! promo.value }" style="currency" currencyCode="BRL" title="{! !empty(promo.valid) ? 'VALOR APÓS ' + promo.valid + ' MESES - R$' + add(promo.value,promo.discount) : '' }" />
						</div>
					</aura:iteration>
					<aura:if isTrue="{! v.oferta.phone.additionalPhone.value > 0 }">
						<div class="slds-truncate slds-col slds-size_2-of-3  slds-align_absolute-center padding-product" title="{! v.oferta.phone.additionalPhone.label }">
							{! v.oferta.phone.additionalPhone.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.oferta.phone.additionalPhone.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
				</div>
				
				<!-- Net Móvel -->
				<hr class="striped-border" />
				<div class="slds-grid slds-gutters slds-wrap three-lines slds-align_absolute-center">
					<!-- ASSINATURA -->
					<!--	<aura:iteration items="{! v.oferta.mobile.planMobile.lstPromotions }" var="promo" >
						<aura:if isTrue="{! empty(promo.label) || promo.label == '-1' }">
							<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">	
								{! v.oferta.mobile.planMobile.label }
							</div>
							<aura:set attribute="else">
								<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
									{! promo.label }
								</div>
							</aura:set>
						</aura:if>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! promo.value }" style="currency" currencyCode="BRL" title="{! !empty(promo.valid) ? 'VALOR APÓS ' + promo.valid + ' MESES - R$' + add(promo.value,promo.discount) : '' }"/>
						</div>
					</aura:iteration>  -->
					<!--	<aura:if isTrue="{! empty(v.oferta.mobile.planMobile.lstPromotions) }">  -->
					<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product" title="{! v.oferta.mobile.planMobile.nameLegacy }">
						{! v.oferta.mobile.planMobile.label }
					</div>
					<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
						<!-- POSSE -->
						<aura:if isTrue="{! v.oferta.mobile.planMobile.label == 'MANTER' }">
							<lightning:formattedNumber value="{! v.oferta.mobile.planMobile.value }" style="currency" currencyCode="BRL" title="{! v.produtoAtual.mobile.mouseOverValorSemDesconto }" />

							<!-- OFERTA C/ PROMO -->
							<aura:set attribute="else">
								<aura:if isTrue="{! and( v.oferta.mobile.titularMobile.discountPromo!=null, v.oferta.mobile.titularMobile.discountPromo>0) }">
									<lightning:formattedNumber value="{! v.oferta.mobile.planMobile.value }" style="currency" currencyCode="BRL" title="{! 'VALOR APÓS ' + v.oferta.mobile.titularMobile.validFor + ' MESES - R$' + v.oferta.mobile.titularMobile.roundedValorProduto }" />
									<!-- OFERTA S/ PROMO -->

									<aura:set attribute="else">
										<lightning:formattedNumber value="{! v.oferta.mobile.planMobile.value }" style="currency" currencyCode="BRL" />
									</aura:set>
								</aura:if>
							</aura:set>
						</aura:if>
					</div>
					<!--	</aura:if> -->
					<!--Alexandre sp15 -->

					<aura:if isTrue="{!  and(v.oferta.mobile!=null, v.oferta.mobile.planMobile.label!='NÃO POSSUI') }">
						
						<!-- dependentes pós pago (voz + dados) -->
						<aura:if isTrue="{! v.oferta.mobile.numeroDependentesVozDadosSelected + v.oferta.mobile.numeroDependentesVozDados > 0 }">
							<aura:if isTrue="{! not(v.inadimplente) }">
								<div class="slds-truncate slds-col slds-size_8-of-12 slds-align_absolute-center padding-product" title="{! v.oferta.mobile.dependentslMobile.label }">
									<p> {! v.oferta.mobile.numeroDependentesVozDadosSelected + v.oferta.mobile.numeroDependentesVozDados } Dependentes DADOS + VOZ </p>
								</div>
								<div class="slds-col slds-size_4-of-12  slds-align_absolute-center padding-price">
										<lightning:formattedNumber value="{! v.oferta.mobile.totalVozDadosSelected + v.oferta.mobile.totalVozDados }" style="currency" currencyCode="BRL" title="{! v.oferta.mobile.mouseOverDependenteSemDescontoPG }" />
								</div>
							</aura:if>
						</aura:if>
						
						<!-- dependentes banda larga (dados) -->
						<aura:if isTrue="{! v.oferta.mobile.numeroDependentesDadosSelected + v.oferta.mobile.numeroDependentesDados > 0 }">
							<aura:if isTrue="{! not(v.inadimplente) }">
								<div class="slds-truncate slds-col slds-size_8-of-12 slds-align_absolute-center padding-product" title="{! v.oferta.mobile.dependentslMobile.label }">
									<p> {! v.oferta.mobile.numeroDependentesDadosSelected + v.oferta.mobile.numeroDependentesDados } Dependentes DADOS </p>
								</div>
								<div class="slds-col slds-size_4-of-12  slds-align_absolute-center padding-price">
									<lightning:formattedNumber value="{! v.oferta.mobile.totalDadosSelected + v.oferta.mobile.totalDados }" style="currency" currencyCode="BRL" title="{! v.oferta.mobile.mouseOverDependenteSemDescontoBL }" />
								</div>
							</aura:if>
						</aura:if>
						
						<!-- dependentes controle (controle) -->
						<aura:if isTrue="{! v.oferta.mobile.numeroDependentesControleSelected + v.oferta.mobile.numeroDependentesControle > 0 }">
							<aura:if isTrue="{! not(v.inadimplente) }">
								<div class="slds-truncate slds-col slds-size_8-of-12 slds-align_absolute-center padding-product" title="{! v.oferta.mobile.dependentslMobile.label }">
									<p> {! v.oferta.mobile.numeroDependentesControleSelected + v.oferta.mobile.numeroDependentesControle } Dependentes CONTROLE </p>
								</div>
								<div class="slds-col slds-size_4-of-12  slds-align_absolute-center padding-price">
									<lightning:formattedNumber value="{! v.oferta.mobile.totalControleSelected + v.oferta.mobile.totalControle }" style="currency" currencyCode="BRL"  title="{! v.oferta.mobile.mouseOverDependenteSemDescontoControle }" />
								</div>
							</aura:if>
						</aura:if>
						
					</aura:if>
					
					<!-- ADICIONAIS -->
					<aura:iteration items="{! v.oferta.mobile.addOptions.lstPromotions }" var="promo">
						<aura:if isTrue="{! empty(promo.label) || promo.label == '-1' }">
							<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
								{! v.oferta.mobile.additionalMobile.label }
							</div>
							<aura:set attribute="else">
								<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product " title="{! promo.description }">
									{! promo.label }
								</div>
							</aura:set>
						</aura:if>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! promo.value }" style="currency" currencyCode="BRL" title="{! !empty(promo.valid) ? 'VALOR APÓS ' + promo.valid + ' MESES - R$' + add(promo.value,promo.discount) : '' }" />
						</div>
					</aura:iteration>
					<aura:if isTrue="{! v.oferta.mobile.additionalMobile.value > 0 }">
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product" title="{! v.oferta.mobile.additionalMobile.label }">
							{! v.oferta.mobile.additionalMobile.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.oferta.mobile.additionalMobile.value }" style="currency" currencyCode="BRL" />
						</div>
					</aura:if>
					<!-- DEPENDENTES -->
					<!--<aura:iteration items="{! v.oferta.mobile.dependentslMobile.lstPromotions }" var="promo" >
						<aura:if isTrue="{! empty(promo.label) || promo.label == '-1' }">
							<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product "  title="{! promo.description }">	
								{! v.oferta.mobile.dependentslMobile.label }
							</div>
							<aura:set attribute="else">
								<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product "  title="{! promo.description }">
									{! promo.label }
								</div>
							</aura:set>
						</aura:if>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! promo.value }" style="currency" currencyCode="BRL"/>
						</div>
					</aura:iteration> 
					<aura:if isTrue="{! v.oferta.mobile.dependentslMobile.value > 0 }">  
						<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product" title="{! v.oferta.mobile.dependentslMobile.label }">
							{! v.oferta.mobile.dependentslMobile.label }
						</div>
						<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
							<lightning:formattedNumber value="{! v.oferta.mobile.dependentslMobile.value }" style="currency" currencyCode="BRL"/>
						</div>
					</aura:if> -->
				</div>

				<!-- Desconto DCC -->
				<aura:if isTrue="{! v.oferta.hasDiscountAutomaticDebit || v.produtoAtual.hasDiscountAutomaticDebit }">
					<aura:if isTrue="{! not(v.inadimplente) }">
						<hr class="striped-border" />
						<div class="slds-grid slds-gutters slds-wrap three-lines slds-align_absolute-center">
							<div class="slds-truncate slds-col slds-size_2-of-3 slds-align_absolute-center padding-product">
								{! $Label.c.DESCONTO_DCC }
							</div>
							<div class="slds-col slds-size_1-of-3 slds-align_absolute-center padding-price">
								-
								<lightning:formattedNumber value="{! v.oferta.automaticDebitDiscount }" style="currency" currencyCode="BRL" />
							</div>
						</div>
					</aura:if>
				</aura:if>
				<hr class="striped-border" />
				<div class="slds-grid slds-grid_vertical-align-start box-total" Style="height: 5.5rem">
					<div class="slds-col slds-size_3-of-3">
						<aura:if isTrue="{! false }">
							<div Class="slds-grid" Style="padding-bottom:0.5rem">
								<div Class="slds-col slds-size_8-of-12 slds-align_absolute-center">
									<p> Desconto de Fat. Digital + Déb. Automático </p>
								</div>
								<div Class="slds-col slds-size_4-of-12 slds-align_absolute-center">
									{! v.oferta.automaticDebitDiscount != 0 ? '-' : '' }
									<lightning:formattedNumber value="{! v.oferta.automaticDebitDiscount }" style="currency" currencyCode="BRL" />
								</div>
							</div>
						</aura:if>
						<div class="text-total">
							<strong>
								<!--Total com Descontos:--> {! $Label.c.TOTAL_COM_DESCONTOS } &nbsp;
								<lightning:formattedNumber value="{! v.oferta.totalValue }" style="currency" currencyCode="BRL" />
							</strong>
						</div>
						<div class="text-total">
							<strong>
								<!--Total sem Descontos:--> {! $Label.c.TOTAL_SEM_DESCONTOS } &nbsp;
								<lightning:formattedNumber value="{! v.oferta.totalValueOriginal }" style="currency" currencyCode="BRL" />
							</strong>
						</div>
					</div>
				</div>
			</article>
		</div>
		<!-- FOOTER -->
		<div class="slds-box box-footer">
			<article class="slds-tile">
				<div class="slds-grid slds-align_absolute-center">
					<div class="slds-col slds-size_1-of-5"></div>
					<div class="slds-col slds-size_3-of-5 slds-align_absolute-center text-footer-dif">
						<strong>
							<aura:if isTrue="{! v.oferta.difTotal > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.oferta.difTotal }" style="currency" currencyCode="BRL" title="{! !empty(v.oferta.difTotalStep.label) ? ('VALOR APÓS ' + v.oferta.difTotalStep.label + ' MESES - R$' + v.oferta.difTotalStep.value) : '' }" />
						</strong>
					</div>
					<div class="slds-col slds-size_1-of-5 down-arrow">
						<lightning:icon iconName="utility:down" size="small" alternativeText="Detalhar" onclick="{! c.expand }" />
					</div>
				</div>
			</article>
		</div>

		<aura:if isTrue="{! and(v.oferta.selected, v.expanded) }">
			<div class="slds-box box-dif-detail">
				<article class="slds-tile">
					<div class="slds-grid slds-wrap">
						<!-- TV -->
						<div class="slds-truncate slds-col slds-size_2-of-3 border-add ">
							TV
						</div>
						<div class="slds-col slds-size_1-of-3 border-add " style="text-align:center">
							<aura:if isTrue="{! v.tv.difProducts > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.tv.difProducts }" style="currency" currencyCode="BRL" title="{! !empty(v.tv.difProductsStep.label) ? 'VALOR APÓS ' +  v.tv.difProductsStep.label + ' MESES - R$' + v.tv.difProductsStep.value : ''}" />
						</div>
						<div class="slds-truncate slds-col slds-size_2-of-3 border-add ">
							Adicionais TV
						</div>
						<div class="slds-col slds-size_1-of-3 border-add " style="text-align:center">
							<aura:if isTrue="{! v.tv.difAdditionals > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.tv.difAdditionals }" style="currency" currencyCode="BRL" title="{! !empty(v.tv.difAdditionalsStep.label) ? 'VALOR APÓS ' + v.tv.difAdditionalsStep.label + ' MESES - R$' + v.tv.difAdditionalsStep.value : ''}" />
						</div>
						<!-- Virtua -->
						<div class="slds-truncate slds-col slds-size_2-of-3 border-add ">
							Banda Larga
						</div>
						<div class="slds-col slds-size_1-of-3 border-add" style="text-align:center">
							<aura:if isTrue="{! v.oferta.broadband.difProducts > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.oferta.broadband.difProducts }" style="currency" currencyCode="BRL" title="{! !empty(v.oferta.broadband.difProductsStep.label) ? 'VALOR APÓS ' + v.oferta.broadband.difProductsStep.label + ' MESES - R$' + v.oferta.broadband.difProductsStep.value : ''}" />
						</div>
						<div class="slds-truncate slds-col slds-size_2-of-3 border-add ">
							Adicionais Banda Larga
						</div>
						<div class="slds-col slds-size_1-of-3 border-add" style="text-align:center">
							<aura:if isTrue="{! v.oferta.broadband.difAdditionals > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.oferta.broadband.difAdditionals }" style="currency" currencyCode="BRL" title="{! !empty(v.oferta.broadband.difAdditionalsStep.label) ? 'VALOR APÓS ' + v.oferta.broadband.difAdditionalsStep.label + ' MESES - R$' +  v.oferta.broadband.difAdditionalsStep.value : ''}" />
						</div>
						<!-- Fone -->
						<div class="slds-truncate slds-col slds-size_2-of-3 border-add ">
							Fone
						</div>
						<div class="slds-col slds-size_1-of-3 border-add " style="text-align:center">
							<aura:if isTrue="{! v.oferta.phone.difProducts > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.oferta.phone.difProducts }" style="currency" currencyCode="BRL" title="{! !empty(v.oferta.phone.difProductsStep.label) ? 'VALOR APÓS ' + v.oferta.phone.difProductsStep.label + ' MESES - R$' +  v.oferta.phone.difProductsStep.value : ''}" />
						</div>
						<div class="slds-truncate slds-col slds-size_2-of-3 border-add">
							Adicionais Fone
						</div>
						<div class="slds-col slds-size_1-of-3 border-add " style="text-align:center">
							<aura:if isTrue="{! v.oferta.phone.difAdditionals > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.oferta.phone.difAdditionals }" style="currency" currencyCode="BRL" />
						</div>
						<!-- Móvel -->
						<div class="slds-truncate slds-col slds-size_2-of-3 border-add ">
							Móvel
						</div>

						<div class="slds-col slds-size_1-of-3 border-add " style="text-align:center">
							<aura:if isTrue="{! v.oferta.mobile.difProducts > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.oferta.mobile.difProducts }" style="currency" currencyCode="BRL" title="{! and(!empty(v.oferta.mobile.difProductsStep.label), v.oferta.mobile.difProductsStep.label!='0') ? 'VALOR APÓS ' + v.oferta.mobile.difProductsStep.label + ' MESES - R$' + v.oferta.mobile.difProductsStep.value : ''}" />
						</div>

						<div class="slds-truncate slds-col slds-size_2-of-3 border-add ">
							Dependentes
						</div>
						<div class="slds-col slds-size_1-of-3 border-add " style="text-align:center;">
							<aura:if isTrue="{! v.oferta.mobile.totalDependentes+v.oferta.mobile.totalDependentesSelected - v.produtoAtual.mobile.totalDependentes > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.oferta.mobile.totalDependentes+v.oferta.mobile.totalDependentesSelected - v.produtoAtual.mobile.totalDependentes }" style="currency" currencyCode="BRL" />
						</div>
						
						<div class="slds-truncate slds-col slds-size_2-of-3 border-add">
							Adicionais Móvel
						</div>
						<div class="slds-col slds-size_1-of-3 border-add " style="text-align:center">
							<aura:if isTrue="{! v.oferta.mobile.difAdditionals > 0 }">+</aura:if>
							<lightning:formattedNumber value="{! v.oferta.mobile.difAdditionals }" style="currency" currencyCode="BRL" title="{! !empty(v.oferta.mobile.difAdditionalsStep.label) ? 'VALOR APÓS ' +  v.oferta.mobile.difAdditionals.label + ' MESES - R$' + v.oferta.mobile.difAdditionalsStep.value : ''}" />
						</div>
					</div>
				</article>
			</div>
		</aura:if>
		<!-- TAXAS -->
		<div class="box-taxes" style="margin-top:1rem">
			<article class="slds-tile">
				<div class="slds-grid box-taxes">
					<div class="slds-col slds-size_1-of-2 box-taxes">{! $Label.c.OFERTA_TAXA_DE_ADESAO }:</div>
					<div class="slds-col slds-size_1-of-2 box-taxes">
						<select class="slds-select custom-combobox" id="membership" value="{! v.oferta.paymentMethodMembership }" disabled="{! empty(v.oferta.lstMembershipFee) }" onchange="{! c.changePaymentMethodMembership }">
							<!--<option value="">Isento</option>-->
							<aura:iteration items="{! empty(v.oferta.lstMembershipFeeFiltered) ? v.oferta.lstMembershipFee : v.oferta.lstMembershipFeeFiltered }" var="txa" indexVar="indexTxa">
								<option value="{! txa.paymentMethod }" selected="{! equals(txa.paymentMethod, v.oferta.paymentMethodMembership) }">
									<aura:if isTrue="{! txa.paymentMethod == 'ISENTO' }">
										{! txa.paymentMethod }
										<aura:set attribute="else">
											<aura:if isTrue="{! txa.paymentMethod == 'A VISTA' }">
												{! txa.paymentMethod }&nbsp;
												<lightning:formattedNumber value="{! txa.value }" style="currency" currencyCode="BRL" />
												<aura:set attribute="else">
													{! txa.paymentMethod }&nbsp;
													<lightning:formattedNumber value="{! txa.paymentMethod[1] == ' ' ? div(txa.value, txa.paymentMethod[0]) : div(txa.value, txa.paymentMethod[0] + txa.paymentMethod[1]) }" style="currency" currencyCode="BRL" />
												</aura:set>
											</aura:if>
										</aura:set>
									</aura:if>
								</option>
							</aura:iteration>
						</select>
					</div>
				</div>
				<div class="slds-grid box-taxes">
					<div class="slds-col slds-size_1-of-2 box-taxes">{! $Label.c.OFERTA_TAXA_DE_UPGRADE }:</div>
					<div class="slds-col slds-size_1-of-2 box-taxes">
						<select class="slds-select custom-combobox" value="{! v.oferta.paymentMethodUpgrade }" disabled="{! empty(v.oferta.lstUpgradeFee) }" onchange="{! c.changePaymentMethodUpgrade }">
							<aura:iteration items="{! empty(v.oferta.lstUpgradeFeeFiltered) ? v.oferta.lstUpgradeFee : v.oferta.lstUpgradeFeeFiltered }" var="txu" indexVar="indexTxu">
								<option value="{! txu.paymentMethod }" selected="{! equals(txu.paymentMethod, v.oferta.paymentMethodUpgrade) }">
									<aura:if isTrue="{! txu.paymentMethod == 'ISENTO' }">
										{! txu.paymentMethod }
										<aura:set attribute="else">
											<aura:if isTrue="{! txu.paymentMethod == 'A VISTA' }">
												{! txu.paymentMethod }&nbsp;
												<lightning:formattedNumber value="{! txu.value }" style="currency" currencyCode="BRL" />
												<aura:set attribute="else">
													{! txu.paymentMethod }&nbsp;
													<lightning:formattedNumber value="{! txu.paymentMethod[1] == ' ' ? div(txu.value, txu.paymentMethod[0]) : div(txu.value, txu.paymentMethod[0] + txu.paymentMethod[1]) }" style="currency" currencyCode="BRL" />
												</aura:set>
											</aura:if>
										</aura:set>
									</aura:if>
								</option>
							</aura:iteration>
						</select>
					</div>
				</div>
			</article>
		</div>
	</div>
</aura:component>