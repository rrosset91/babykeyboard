<!--
  @description       : 
  @author            : Joao Neves
  @group             : 
  @last modified on  : 12-04-2020
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
  @last modified on  : 12-04-2020
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
  Modifications Log 
  Ver   Date         Author       Modification
  1.0   28-10-2020   Joao Neves   Initial Version
  1.0   04-12-2020   Vini D.	  Add -> hasPermission/func getHaspermssion TU98
-->
<aura:component
	implements="lightning:isUrlAddressable,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickAction"
	access="global"
	controller="FinancialMobileGeneralService"
	extends="c:Utils"
	
>
	<lightning:workspaceAPI aura:id="workspace" />
	<lightning:navigation aura:id="navService" />
	<aura:attribute name="recordId" type="String" />
	<aura:attribute name="pageReference" type="Object" />
	<aura:attribute name="isResidential" type="Boolean" default="false" />
	<aura:attribute name="isMobile" type="Boolean" default="false" />
	<aura:attribute name="hasPermission" type="Boolean" default="false" />
	

	<aura:handler name="init" value="{!this}" action="{!c.doInit}" />

	<div>
		<div class = "slds-clearfix">
			<div class="slds-float_right slds-p-right_medium">
			<aura:if isTrue="{!v.isResidential}">
				<lightning:layout>
					<lightning:layoutItem class="slds-p-right_medium">
						<c:Financeiro_ActionButtons showFirst="false" showSecond = "false" showNegotiation="true" onClickFirst="{!c.clickViewNegotiation}" labelFirst="Negociação"/>
						
					</lightning:layoutItem>

					<lightning:layoutItem>
						<c:Financeiro_ActionButtons showFirst="{!v.hasPermission}" showSecond="false" onClickFirst="{!c.clickViewBill}" labelFirst="Ir para a ficha financeira"/>
					</lightning:layoutItem>
				</lightning:layout>
			</aura:if>
			<aura:if isTrue="{!v.isMobile}">
				<c:solarAcessarFicha recordId="{!v.recordId}"></c:solarAcessarFicha>
			</aura:if>
		</div>
		</div>
	</div>
</aura:component>